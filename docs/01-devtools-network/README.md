# DevTools - Network

## Вступ

Панель Network в Chrome DevTools є потужним інструментом для аналізу мережевої активності веб-додатку. Для Senior QA Automation Engineer розуміння Network панелі критично важливе, оскільки дозволяє відстежувати HTTP запити, аналізувати відповіді сервера, вимірювати продуктивність та налагоджувати проблеми з API інтеграціями. Ця панель дозволяє перехоплювати та модифікувати запити, що є незамінним при тестуванні різних сценаріїв та edge cases.

**Важливо:** Всі приклади в цій документації використовують реальні робочі API:
- **JSONPlaceholder**: https://jsonplaceholder.typicode.com/ - безкоштовний фейковий REST API
- **ReqRes**: https://reqres.in/api/ - тестовий API для навчання
- **httpbin.org**: https://httpbin.org/ - HTTP тестування та налагодження

Всі приклади можна виконати одразу в DevTools Console або в Cypress тестах.

## Теоретичне пояснення

Панель Network в Chrome DevTools надає повну картину всіх мережевих запитів, які виконує браузер під час завантаження сторінки. Вона відображає XHR (XMLHttpRequest) та Fetch запити, зображення, CSS, JavaScript файли та інші ресурси. Кожен запит містить детальну інформацію: URL, метод (GET, POST, PUT, DELETE тощо), статус код, час виконання, розмір відповіді та заголовки.

Для автоматизованого тестування Network панель дозволяє перевіряти, чи виконуються правильні запити з коректними параметрами, аналізувати відповіді сервера на предмет валідації даних, вимірювати час завантаження для тестів продуктивності та перехоплювати запити для модифікації або мокування. Це особливо корисно при тестуванні SPA (Single Page Applications), де більшість взаємодій відбувається через API запити.

## Основні концепції

### Відстеження мережевих запитів

- **XHR та Fetch запити**: Всі асинхронні запити до сервера
- **Фільтрація запитів**: За типом (XHR, JS, CSS, Img), доменом, методом
- **Preserve log**: Збереження логів при навігації між сторінками
- **Disable cache**: Вимкнення кешу для тестування свіжих запитів

### Аналіз параметрів запитів та відповідей

- **Headers**: Заголовки запиту та відповіді
- **Payload**: Тіло запиту (для POST, PUT запитів)
- **Preview**: Відформатований вигляд відповіді
- **Response**: Сирий текст відповіді
- **Cookies**: Cookies, пов'язані з запитом

### Вимірювання часу завантаження

- **Timing**: Детальна інформація про час виконання запиту
- **Waterfall**: Візуалізація послідовності завантаження ресурсів
- **Total time**: Загальний час від початку до завершення запиту

### Перехоплення та модифікація запитів

- **Request blocking**: Блокування певних запитів
- **Modify headers**: Модифікація заголовків запитів
- **Override content**: Заміна відповіді сервера локальним файлом

## Приклади коду

### DevTools Console

Детальні приклади для виконання в DevTools Console дивіться в файлі [console-examples.js](examples/console-examples.js).

### Cypress

Готові тести для автоматизації дивіться в файлі [cypress-examples.js](examples/cypress-examples.js).

## Практичні сценарії

Реальні сценарії тестування з покроковими інструкціями дивіться в файлі [test-scenarios.md](scenarios/test-scenarios.md).

## Поради для Senior QA Engineer

### Best Practices

1. **Використовуйте фільтри**: Завжди фільтруйте запити за типом (XHR/Fetch) для швидшого пошуку потрібних запитів
2. **Preserve log**: Увімкніть "Preserve log" при тестуванні SPA, щоб не втратити запити під час навігації
3. **Disable cache**: Завжди вимикайте кеш під час тестування, щоб отримувати свіжі дані
4. **Аналізуйте Timing**: Перевіряйте час виконання запитів для виявлення проблем з продуктивністю
5. **Перевіряйте статус коди**: Завжди перевіряйте HTTP статус коди (200, 404, 500 тощо)

### Advanced техніки

1. **Request Blocking**: Використовуйте для тестування поведінки додатку при відсутності певних ресурсів
2. **Modify Headers**: Тестуйте різні сценарії з модифікованими заголовками (наприклад, різні User-Agent)
3. **Network Throttling**: Симулюйте повільне з'єднання для тестування поведінки додатку
4. **Copy as cURL**: Використовуйте функцію "Copy as cURL" для швидкого відтворення запитів у тестах
5. **HAR Export**: Експортуйте HAR файли для детального аналізу та звітності

### Налагодження

1. **Перевірка Payload**: Завжди перевіряйте, чи коректні дані відправляються на сервер
2. **Аналіз Response**: Перевіряйте структуру та валідність відповіді сервера
3. **Timing Analysis**: Аналізуйте, який етап запиту займає найбільше часу (DNS, Connection, Waiting, Receiving)
4. **Failed Requests**: Звертайте увагу на червоні запити (помилки) та аналізуйте причини їх виникнення

## Додаткові ресурси

- [Chrome DevTools Network Documentation](https://developer.chrome.com/docs/devtools/network/)
- [Network Analysis Guide](https://developer.chrome.com/docs/devtools/network/reference/)
- [Cypress Network Requests](https://docs.cypress.io/api/commands/intercept)

